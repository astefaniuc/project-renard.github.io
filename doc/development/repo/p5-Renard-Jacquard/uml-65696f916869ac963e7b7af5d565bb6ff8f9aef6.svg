<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="521px" preserveAspectRatio="none" style="width:585px;height:521px;" version="1.1" viewBox="0 0 585 521" width="585px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ol7znb4t1b2h" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class RootNode--><rect fill="#FEFECE" filter="url(#f1ol7znb4t1b2h)" height="60.8047" id="RootNode" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="99.75" y="8.5"/><ellipse cx="120.15" cy="24.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M123.1188,30.1406 Q122.5406,30.4375 121.9,30.5859 Q121.2594,30.7344 120.5563,30.7344 Q118.0563,30.7344 116.7359,29.0859 Q115.4156,27.4375 115.4156,24.3125 Q115.4156,21.1875 116.7359,19.5313 Q118.0563,17.875 120.5563,17.875 Q121.2594,17.875 121.9078,18.0313 Q122.5563,18.1875 123.1188,18.4844 L123.1188,21.2031 Q122.4938,20.625 121.9,20.3516 Q121.3063,20.0781 120.6813,20.0781 Q119.3375,20.0781 118.65,21.1484 Q117.9625,22.2188 117.9625,24.3125 Q117.9625,26.4063 118.65,27.4766 Q119.3375,28.5469 120.6813,28.5469 Q121.3063,28.5469 121.9,28.2734 Q122.4938,28 123.1188,27.4219 L123.1188,30.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="135.35" y="28.6543">RootNode</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="100.75" x2="204.75" y1="40.5" y2="40.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="105.75" y="54.7104">ItemNode item1;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="100.75" x2="204.75" y1="61.3047" y2="61.3047"/><!--class ItemNode--><rect fill="#FEFECE" filter="url(#f1ol7znb4t1b2h)" height="196.8516" id="ItemNode" style="stroke: #A80036; stroke-width: 1.5;" width="293" x="6" y="148.5"/><ellipse cx="118.25" cy="164.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M121.2188,170.1406 Q120.6406,170.4375 120,170.5859 Q119.3594,170.7344 118.6563,170.7344 Q116.1563,170.7344 114.8359,169.0859 Q113.5156,167.4375 113.5156,164.3125 Q113.5156,161.1875 114.8359,159.5313 Q116.1563,157.875 118.6563,157.875 Q119.3594,157.875 120.0078,158.0313 Q120.6563,158.1875 121.2188,158.4844 L121.2188,161.2031 Q120.5938,160.625 120,160.3516 Q119.4063,160.0781 118.7813,160.0781 Q117.4375,160.0781 116.75,161.1484 Q116.0625,162.2188 116.0625,164.3125 Q116.0625,166.4063 116.75,167.4766 Q117.4375,168.5469 118.7813,168.5469 Q119.4063,168.5469 120,168.2734 Q120.5938,168 121.2188,167.4219 L121.2188,170.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="138.75" y="168.6543">ItemNode</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="298" y1="180.5" y2="180.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="12" y="194.7104">Content content;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="12" y="207.5151">Layout layout;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="12" y="220.3198">Transform transform;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="16" y="233.1245"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="7" x2="298" y1="239.7188" y2="239.7188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="255" x="12" y="253.9292">Transform get_current_transform( $state ) {</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="44" y="266.7339"> $state-&gt;apply_transform( $transform );</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="11" x="12" y="279.5386">\}</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="7" x2="298" y1="286.1328" y2="286.1328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="16" y="300.3433"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="12" y="313.1479">Position position() {</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="249" x="44" y="325.9526"> $self-&gt;layout-&gt;get_position( $state, $self )</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="11" x="12" y="338.7573">\}</text><!--class Rectangle--><rect fill="#FEFECE" filter="url(#f1ol7znb4t1b2h)" height="86.4141" id="Rectangle" style="stroke: #A80036; stroke-width: 1.5;" width="229" x="271" y="424"/><ellipse cx="349.75" cy="440" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M352.7188,445.6406 Q352.1406,445.9375 351.5,446.0859 Q350.8594,446.2344 350.1563,446.2344 Q347.6563,446.2344 346.3359,444.5859 Q345.0156,442.9375 345.0156,439.8125 Q345.0156,436.6875 346.3359,435.0313 Q347.6563,433.375 350.1563,433.375 Q350.8594,433.375 351.5078,433.5313 Q352.1563,433.6875 352.7188,433.9844 L352.7188,436.7031 Q352.0938,436.125 351.5,435.8516 Q350.9063,435.5781 350.2813,435.5781 Q348.9375,435.5781 348.25,436.6484 Q347.5625,437.7188 347.5625,439.8125 Q347.5625,441.9063 348.25,442.9766 Q348.9375,444.0469 350.2813,444.0469 Q350.9063,444.0469 351.5,443.7734 Q352.0938,443.5 352.7188,442.9219 L352.7188,445.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="63" x="370.25" y="444.1543">Rectangle</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="272" x2="499" y1="456" y2="456"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="277" y="470.2104">PositiveInt width;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="277" y="483.0151">PositiveInt height;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="272" x2="499" y1="489.6094" y2="489.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="217" x="277" y="503.8198">RenderTree get_render_tree( $state );</text><!--class Layout--><rect fill="#FEFECE" filter="url(#f1ol7znb4t1b2h)" height="60.8047" id="Layout" style="stroke: #A80036; stroke-width: 1.5;" width="186" x="49.75" y="436.5"/><ellipse cx="118" cy="452.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M120.9688,458.1406 Q120.3906,458.4375 119.75,458.5859 Q119.1094,458.7344 118.4063,458.7344 Q115.9063,458.7344 114.5859,457.0859 Q113.2656,455.4375 113.2656,452.3125 Q113.2656,449.1875 114.5859,447.5313 Q115.9063,445.875 118.4063,445.875 Q119.1094,445.875 119.7578,446.0313 Q120.4063,446.1875 120.9688,446.4844 L120.9688,449.2031 Q120.3438,448.625 119.75,448.3516 Q119.1563,448.0781 118.5313,448.0781 Q117.1875,448.0781 116.5,449.1484 Q115.8125,450.2188 115.8125,452.3125 Q115.8125,454.4063 116.5,455.4766 Q117.1875,456.5469 118.5313,456.5469 Q119.1563,456.5469 119.75,456.2734 Q120.3438,456 120.9688,455.4219 L120.9688,458.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="41" x="138.5" y="456.6543">Layout</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="50.75" x2="234.75" y1="468.5" y2="468.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="50.75" x2="234.75" y1="476.5" y2="476.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="55.75" y="490.7104">Position get_position( $actor );</text><!--class State--><rect fill="#FEFECE" filter="url(#f1ol7znb4t1b2h)" height="60.8047" id="State" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="241" y="8.5"/><ellipse cx="288.25" cy="24.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M291.2188,30.1406 Q290.6406,30.4375 290,30.5859 Q289.3594,30.7344 288.6563,30.7344 Q286.1563,30.7344 284.8359,29.0859 Q283.5156,27.4375 283.5156,24.3125 Q283.5156,21.1875 284.8359,19.5313 Q286.1563,17.875 288.6563,17.875 Q289.3594,17.875 290.0078,18.0313 Q290.6563,18.1875 291.2188,18.4844 L291.2188,21.2031 Q290.5938,20.625 290,20.3516 Q289.4063,20.0781 288.7813,20.0781 Q287.4375,20.0781 286.75,21.1484 Q286.0625,22.2188 286.0625,24.3125 Q286.0625,26.4063 286.75,27.4766 Q287.4375,28.5469 288.7813,28.5469 Q289.4063,28.5469 290,28.2734 Q290.5938,28 291.2188,27.4219 L291.2188,30.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="34" x="308.75" y="28.6543">State</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="242" x2="377" y1="40.5" y2="40.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="247" y="54.7104">Transform transform;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="242" x2="377" y1="61.3047" y2="61.3047"/><!--class Content--><rect fill="#FEFECE" filter="url(#f1ol7znb4t1b2h)" height="48" id="Content" style="stroke: #A80036; stroke-width: 1.5;" width="82" x="344.25" y="223"/><ellipse cx="359.25" cy="239" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M362.2188,244.6406 Q361.6406,244.9375 361,245.0859 Q360.3594,245.2344 359.6563,245.2344 Q357.1563,245.2344 355.8359,243.5859 Q354.5156,241.9375 354.5156,238.8125 Q354.5156,235.6875 355.8359,234.0313 Q357.1563,232.375 359.6563,232.375 Q360.3594,232.375 361.0078,232.5313 Q361.6563,232.6875 362.2188,232.9844 L362.2188,235.7031 Q361.5938,235.125 361,234.8516 Q360.4063,234.5781 359.7813,234.5781 Q358.4375,234.5781 357.75,235.6484 Q357.0625,236.7188 357.0625,238.8125 Q357.0625,240.9063 357.75,241.9766 Q358.4375,243.0469 359.7813,243.0469 Q360.4063,243.0469 361,242.7734 Q361.5938,242.5 362.2188,241.9219 L362.2188,244.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="50" x="373.25" y="243.1543">Content</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="345.25" x2="425.25" y1="255" y2="255"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="345.25" x2="425.25" y1="263" y2="263"/><!--class RenderTreeNode--><rect fill="#FEFECE" filter="url(#f1ol7znb4t1b2h)" height="60.8047" id="RenderTreeNode" style="stroke: #A80036; stroke-width: 1.5;" width="161" x="413" y="8.5"/><ellipse cx="438.35" cy="24.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M441.3188,30.1406 Q440.7406,30.4375 440.1,30.5859 Q439.4594,30.7344 438.7563,30.7344 Q436.2563,30.7344 434.9359,29.0859 Q433.6156,27.4375 433.6156,24.3125 Q433.6156,21.1875 434.9359,19.5313 Q436.2563,17.875 438.7563,17.875 Q439.4594,17.875 440.1078,18.0313 Q440.7563,18.1875 441.3188,18.4844 L441.3188,21.2031 Q440.6938,20.625 440.1,20.3516 Q439.5063,20.0781 438.8813,20.0781 Q437.5375,20.0781 436.85,21.1484 Q436.1625,22.2188 436.1625,24.3125 Q436.1625,26.4063 436.85,27.4766 Q437.5375,28.5469 438.8813,28.5469 Q439.5063,28.5469 440.1,28.2734 Q440.6938,28 441.3188,27.4219 L441.3188,30.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="106" x="454.65" y="28.6543">RenderTreeNode</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="414" x2="573" y1="40.5" y2="40.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="419" y="54.7104">Taffetta::Rectangle object;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="414" x2="573" y1="61.3047" y2="61.3047"/><!--link RootNode to ItemNode--><path d="M152.25,82.594 C152.25,101.685 152.25,125.059 152.25,148.093 " fill="none" id="RootNode-ItemNode" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="152.25,69.515,148.25,75.515,152.25,81.515,156.25,75.515,152.25,69.515" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="153.25" y="113.0669">contains</text><!--link ItemNode to Rectangle--><path d="M266.172,354.588 C292.52,379.24 319.044,404.056 340.349,423.9896 " fill="none" id="ItemNode-Rectangle" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="256.483,345.523,258.131,352.5433,265.2451,353.7221,263.5971,346.7018,256.483,345.523" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="304.25" y="389.0669">contains</text><!--link ItemNode to Layout--><path d="M147.173,358.668 C145.859,387.317 144.552,415.8115 143.615,436.2341 " fill="none" id="ItemNode-Layout" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="147.776,345.523,143.5053,351.3334,147.2261,357.5104,151.4969,351.7,147.776,345.523" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="148.25" y="389.0669">contains</text><!--link Content to Rectangle--><path d="M385.25,291.466 C385.25,329.948 385.25,385.764 385.25,423.8463 " fill="none" id="Content-Rectangle" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="378.25,291.33,385.25,271.33,392.25,291.33,378.25,291.33" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
RootNode *- - ItemNode: contains

ItemNode *- - Rectangle: contains

ItemNode *- - Layout: contains

class State {
    Transform transform;
}

class RootNode {
    ItemNode item1;
}

class ItemNode {
    Content content;
    Layout layout;
    Transform transform;

    - - -
    Transform get_current_transform( $state ) {
    \t $state->apply_transform( $transform );
    \}
    - - -

    Position position() {
    \t $self->layout->get_position( $state, $self )
    \}
}

class Layout {
    Position get_position( $actor );
}

class Rectangle extends Content {
    PositiveInt width;
    PositiveInt height;

    RenderTree get_render_tree( $state );
}

class RenderTreeNode {
    Taffetta::Rectangle object;
}
@enduml

PlantUML version 1.2018.06(Mon May 21 10:34:53 GMT 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_151-b12
Operating System: Linux
OS Version: 4.4.0-101-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>