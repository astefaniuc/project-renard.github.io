<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="517px" preserveAspectRatio="none" style="width:585px;height:517px;" version="1.1" viewBox="0 0 585 517" width="585px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ol7znb4t1b2h" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class RootNode--><rect fill="#FEFECE" filter="url(#f1ol7znb4t1b2h)" height="60.8047" id="RootNode" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="99.5" y="8"/><ellipse cx="119.9" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M122.8688,29.6406 Q122.2906,29.9375 121.65,30.0781 Q121.0094,30.2344 120.3063,30.2344 Q117.8063,30.2344 116.4781,28.5938 Q115.1656,26.9375 115.1656,23.8125 Q115.1656,20.6875 116.4781,19.0313 Q117.8063,17.375 120.3063,17.375 Q121.0094,17.375 121.65,17.5313 Q122.3063,17.6875 122.8688,17.9844 L122.8688,20.7031 Q122.2438,20.125 121.65,19.8594 Q121.0563,19.5781 120.4313,19.5781 Q119.0875,19.5781 118.4,20.6563 Q117.7125,21.7188 117.7125,23.8125 Q117.7125,25.9063 118.4,26.9844 Q119.0875,28.0469 120.4313,28.0469 Q121.0563,28.0469 121.65,27.7813 Q122.2438,27.5 122.8688,26.9219 L122.8688,29.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="135.1" y="28.1543">RootNode</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="100.5" x2="204.5" y1="40" y2="40"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="105.5" y="54.2104">ItemNode item1;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="100.5" x2="204.5" y1="60.8047" y2="60.8047"/><!--class ItemNode--><rect fill="#FEFECE" filter="url(#f1ol7znb4t1b2h)" height="196.8516" id="ItemNode" style="stroke: #A80036; stroke-width: 1.5;" width="293" x="6" y="146"/><ellipse cx="118.25" cy="162" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M121.2188,167.6406 Q120.6406,167.9375 120,168.0781 Q119.3594,168.2344 118.6563,168.2344 Q116.1563,168.2344 114.8281,166.5938 Q113.5156,164.9375 113.5156,161.8125 Q113.5156,158.6875 114.8281,157.0313 Q116.1563,155.375 118.6563,155.375 Q119.3594,155.375 120,155.5313 Q120.6563,155.6875 121.2188,155.9844 L121.2188,158.7031 Q120.5938,158.125 120,157.8594 Q119.4063,157.5781 118.7813,157.5781 Q117.4375,157.5781 116.75,158.6563 Q116.0625,159.7188 116.0625,161.8125 Q116.0625,163.9063 116.75,164.9844 Q117.4375,166.0469 118.7813,166.0469 Q119.4063,166.0469 120,165.7813 Q120.5938,165.5 121.2188,164.9219 L121.2188,167.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="138.75" y="166.1543">ItemNode</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="298" y1="178" y2="178"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="12" y="192.2104">Content content;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="12" y="205.0151">Layout layout;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="12" y="217.8198">Transform transform;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="16" y="230.6245"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="7" x2="298" y1="237.2188" y2="237.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="255" x="12" y="251.4292">Transform get_current_transform( $state ) {</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="44" y="264.2339"> $state-&gt;apply_transform( $transform );</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="11" x="12" y="277.0386">\}</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="7" x2="298" y1="283.6328" y2="283.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="16" y="297.8433"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="12" y="310.6479">Position position() {</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="249" x="44" y="323.4526"> $self-&gt;layout-&gt;get_position( $state, $self )</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="11" x="12" y="336.2573">\}</text><!--class Rectangle--><rect fill="#FEFECE" filter="url(#f1ol7znb4t1b2h)" height="86.4141" id="Rectangle" style="stroke: #A80036; stroke-width: 1.5;" width="229" x="271" y="420"/><ellipse cx="349.75" cy="436" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M352.7188,441.6406 Q352.1406,441.9375 351.5,442.0781 Q350.8594,442.2344 350.1563,442.2344 Q347.6563,442.2344 346.3281,440.5938 Q345.0156,438.9375 345.0156,435.8125 Q345.0156,432.6875 346.3281,431.0313 Q347.6563,429.375 350.1563,429.375 Q350.8594,429.375 351.5,429.5313 Q352.1563,429.6875 352.7188,429.9844 L352.7188,432.7031 Q352.0938,432.125 351.5,431.8594 Q350.9063,431.5781 350.2813,431.5781 Q348.9375,431.5781 348.25,432.6563 Q347.5625,433.7188 347.5625,435.8125 Q347.5625,437.9063 348.25,438.9844 Q348.9375,440.0469 350.2813,440.0469 Q350.9063,440.0469 351.5,439.7813 Q352.0938,439.5 352.7188,438.9219 L352.7188,441.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="63" x="370.25" y="440.1543">Rectangle</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="272" x2="499" y1="452" y2="452"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="277" y="466.2104">PositiveInt width;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="277" y="479.0151">PositiveInt height;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="272" x2="499" y1="485.6094" y2="485.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="217" x="277" y="499.8198">RenderTree get_render_tree( $state );</text><!--class Layout--><rect fill="#FEFECE" filter="url(#f1ol7znb4t1b2h)" height="60.8047" id="Layout" style="stroke: #A80036; stroke-width: 1.5;" width="186" x="49.5" y="432.5"/><ellipse cx="117.75" cy="448.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M120.7188,454.1406 Q120.1406,454.4375 119.5,454.5781 Q118.8594,454.7344 118.1563,454.7344 Q115.6563,454.7344 114.3281,453.0938 Q113.0156,451.4375 113.0156,448.3125 Q113.0156,445.1875 114.3281,443.5313 Q115.6563,441.875 118.1563,441.875 Q118.8594,441.875 119.5,442.0313 Q120.1563,442.1875 120.7188,442.4844 L120.7188,445.2031 Q120.0938,444.625 119.5,444.3594 Q118.9063,444.0781 118.2813,444.0781 Q116.9375,444.0781 116.25,445.1563 Q115.5625,446.2188 115.5625,448.3125 Q115.5625,450.4063 116.25,451.4844 Q116.9375,452.5469 118.2813,452.5469 Q118.9063,452.5469 119.5,452.2813 Q120.0938,452 120.7188,451.4219 L120.7188,454.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="41" x="138.25" y="452.6543">Layout</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="50.5" x2="234.5" y1="464.5" y2="464.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="50.5" x2="234.5" y1="472.5" y2="472.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="55.5" y="486.7104">Position get_position( $actor );</text><!--class State--><rect fill="#FEFECE" filter="url(#f1ol7znb4t1b2h)" height="60.8047" id="State" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="241" y="8"/><ellipse cx="288.25" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M291.2188,29.6406 Q290.6406,29.9375 290,30.0781 Q289.3594,30.2344 288.6563,30.2344 Q286.1563,30.2344 284.8281,28.5938 Q283.5156,26.9375 283.5156,23.8125 Q283.5156,20.6875 284.8281,19.0313 Q286.1563,17.375 288.6563,17.375 Q289.3594,17.375 290,17.5313 Q290.6563,17.6875 291.2188,17.9844 L291.2188,20.7031 Q290.5938,20.125 290,19.8594 Q289.4063,19.5781 288.7813,19.5781 Q287.4375,19.5781 286.75,20.6563 Q286.0625,21.7188 286.0625,23.8125 Q286.0625,25.9063 286.75,26.9844 Q287.4375,28.0469 288.7813,28.0469 Q289.4063,28.0469 290,27.7813 Q290.5938,27.5 291.2188,26.9219 L291.2188,29.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="34" x="308.75" y="28.1543">State</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="242" x2="377" y1="40" y2="40"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="247" y="54.2104">Transform transform;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="242" x2="377" y1="60.8047" y2="60.8047"/><!--class Content--><rect fill="#FEFECE" filter="url(#f1ol7znb4t1b2h)" height="48" id="Content" style="stroke: #A80036; stroke-width: 1.5;" width="82" x="344.5" y="220.5"/><ellipse cx="359.5" cy="236.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M362.4688,242.1406 Q361.8906,242.4375 361.25,242.5781 Q360.6094,242.7344 359.9063,242.7344 Q357.4063,242.7344 356.0781,241.0938 Q354.7656,239.4375 354.7656,236.3125 Q354.7656,233.1875 356.0781,231.5313 Q357.4063,229.875 359.9063,229.875 Q360.6094,229.875 361.25,230.0313 Q361.9063,230.1875 362.4688,230.4844 L362.4688,233.2031 Q361.8438,232.625 361.25,232.3594 Q360.6563,232.0781 360.0313,232.0781 Q358.6875,232.0781 358,233.1563 Q357.3125,234.2188 357.3125,236.3125 Q357.3125,238.4063 358,239.4844 Q358.6875,240.5469 360.0313,240.5469 Q360.6563,240.5469 361.25,240.2813 Q361.8438,240 362.4688,239.4219 L362.4688,242.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="50" x="373.5" y="240.6543">Content</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="345.5" x2="425.5" y1="252.5" y2="252.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="345.5" x2="425.5" y1="260.5" y2="260.5"/><!--class RenderTreeNode--><rect fill="#FEFECE" filter="url(#f1ol7znb4t1b2h)" height="60.8047" id="RenderTreeNode" style="stroke: #A80036; stroke-width: 1.5;" width="161" x="413" y="8"/><ellipse cx="438.35" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M441.3188,29.6406 Q440.7406,29.9375 440.1,30.0781 Q439.4594,30.2344 438.7563,30.2344 Q436.2563,30.2344 434.9281,28.5938 Q433.6156,26.9375 433.6156,23.8125 Q433.6156,20.6875 434.9281,19.0313 Q436.2563,17.375 438.7563,17.375 Q439.4594,17.375 440.1,17.5313 Q440.7563,17.6875 441.3188,17.9844 L441.3188,20.7031 Q440.6938,20.125 440.1,19.8594 Q439.5063,19.5781 438.8813,19.5781 Q437.5375,19.5781 436.85,20.6563 Q436.1625,21.7188 436.1625,23.8125 Q436.1625,25.9063 436.85,26.9844 Q437.5375,28.0469 438.8813,28.0469 Q439.5063,28.0469 440.1,27.7813 Q440.6938,27.5 441.3188,26.9219 L441.3188,29.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="106" x="454.65" y="28.1543">RenderTreeNode</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="414" x2="573" y1="40" y2="40"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="419" y="54.2104">Taffetta::Rectangle object;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="414" x2="573" y1="60.8047" y2="60.8047"/><!--link RootNode to ItemNode--><path d="M152.5,82.191 C152.5,100.73 152.5,123.275 152.5,145.561 " fill="none" id="RootNode-ItemNode" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="152.5,69.163,148.5,75.163,152.5,81.163,156.5,75.163,152.5,69.163" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="153.5" y="112.0669">contains</text><!--link ItemNode to Rectangle--><path d="M267.614,352.462 C293.385,376.408 319.246,400.437 340.152,419.8633 " fill="none" id="ItemNode-Rectangle" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="257.752,343.299,259.4246,350.3134,266.5428,351.4673,264.8702,344.4529,257.752,343.299" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="304.5" y="386.0669">contains</text><!--link ItemNode to Layout--><path d="M147.369,356.576 C146.078,384.545 144.797,412.2614 143.874,432.2515 " fill="none" id="ItemNode-Layout" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="147.983,343.299,143.7103,349.108,147.4291,355.2862,151.7018,349.4772,147.983,343.299" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="148.5" y="386.0669">contains</text><!--link Content to Rectangle--><path d="M385.5,288.866 C385.5,326.939 385.5,381.983 385.5,419.7266 " fill="none" id="Content-Rectangle" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="378.5,288.669,385.5,268.669,392.5,288.669,378.5,288.669" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
RootNode *- - ItemNode: contains

ItemNode *- - Rectangle: contains

ItemNode *- - Layout: contains

class State {
    Transform transform;
}

class RootNode {
    ItemNode item1;
}

class ItemNode {
    Content content;
    Layout layout;
    Transform transform;

    - - -
    Transform get_current_transform( $state ) {
    \t $state->apply_transform( $transform );
    \}
    - - -

    Position position() {
    \t $self->layout->get_position( $state, $self )
    \}
}

class Layout {
    Position get_position( $actor );
}

class Rectangle extends Content {
    PositiveInt width;
    PositiveInt height;

    RenderTree get_render_tree( $state );
}

class RenderTreeNode {
    Taffetta::Rectangle object;
}
@enduml

PlantUML version 1.2018.06(Mon May 21 10:34:53 GMT 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.2+9
Operating System: Linux
OS Version: 4.15.0-1028-gcp
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>